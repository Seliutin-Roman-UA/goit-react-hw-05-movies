"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[205],{845:function(e,t,r){r.d(t,{a:function(){return m}});var n=r(731),a=r(689),i="MovieGallery_gallery__Oyx2w",s="MovieGallery_movieCard__EGmQT",c="MovieGallery_movieLink__I3PNV",o="MovieGallery_movieImg__4HExA",l="MovieGallery_movieCaption__zkqUS",u=r(184);function m(e){var t=e.movies,r=(0,a.TH)();return(0,u.jsx)("ul",{className:i,children:t.map((function(e){var t=e.id,a=e.title,i=e.poster,m=e.date;return(0,u.jsx)("li",{className:s,children:(0,u.jsxs)(n.rU,{to:"/movies/".concat(t),state:r,className:c,children:[(0,u.jsx)("img",{className:o,src:"https://image.tmdb.org/t/p/w185".concat(i),alt:""}),(0,u.jsx)("p",{className:l,children:a}),(0,u.jsx)("p",{className:l,children:null===m||void 0===m?void 0:m.slice(0,4)})]})},t)}))})}},205:function(e,t,r){r.r(t),r.d(t,{MoviesPage:function(){return m},default:function(){return _}});var n=r(885),a=r(791),i=r(845),s=r(731),c="MoviesPage_searchForm__7gk5Y",o="MoviesPage_formButton__QaKo6",l=r(322),u=r(184);function m(){var e=(0,a.useState)([]),t=(0,n.Z)(e,2),r=t[0],m=t[1],_=(0,a.useState)(!1),d=(0,n.Z)(_,2),v=d[0],h=d[1],f=(0,s.lr)(),p=(0,n.Z)(f,2),g=p[0],x=p[1],j=g.get("query");return(0,a.useEffect)((function(){j&&(h(!0),fetch("https://api.themoviedb.org/3/search/movie?api_key=09fddff29ca445d38e447ae99342142f&query=".concat(j)).then((function(e){return e.json()})).then((function(e){m(e.results.map((function(e){return{id:e.id,date:e.release_date,title:e.title,poster:e.poster_path}})))})).catch((function(e){return console.log("shit happens",e)})).finally((function(){return h(!1)})))}),[j]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,r=e.currentTarget.elements.query.value;""!==r?t={query:r}:(m([]),t={}),x(t),e.currentTarget.elements.query.value=""},className:c,children:[(0,u.jsx)("input",{type:"text",name:"query"}),(0,u.jsx)("button",{type:"Submit",className:o,children:"Search"})]}),j?!r.length&&(0,u.jsx)("p",{children:"Search result is empty"}):(0,u.jsx)("p",{children:"Enter the search string"}),(0,u.jsx)(i.a,{movies:r}),v&&(0,u.jsx)(l.i,{})]})}var _=m},322:function(e,t,r){r.d(t,{i:function(){return o}});r(791);var n=r.p+"static/media/film_.edec29a5e5d0c99737260c630eab0f72.svg",a="Spiner_backDrop__tSBdE",i="Spiner_modal__GF9zM",s="Spiner_img__KhcjE",c=r(184);function o(){return console.log(n),(0,c.jsx)("div",{className:a,children:(0,c.jsx)("div",{className:i,children:(0,c.jsx)("img",{src:n,alt:"",className:s})})})}}}]);
//# sourceMappingURL=205.27c9903e.chunk.js.map